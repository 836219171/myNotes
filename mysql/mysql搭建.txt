
墨迹一天终于搭建上了mysql数据库 
首先要拷贝到tomcat和lib文件夹下同时build path
分为四步骤 1.加载驱动程序 
Class.forName("oracle.jdbc.driver.OracleDriver");
2. 建立连接 
3. 执行查询
4. 关闭数据库连接
接下来是代码
关闭流
package com.lyq;
import java.io.PrintWriter;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;
import java.sql.*;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class HelloServlet extends HttpServlet {

	private static final long serialVersionUID = 3401372898610232752L;

	public void doGet(HttpServletRequest req, HttpServletResponse res){
		String url = "jdbc:mysql://localhost:3306/test"; 
		Connection con = null;
		Statement stat = null;
		ResultSet rs = null;
		res.setContentType("text/html;charset=gbk");    // 为解决打印出来的中文乱码
		try{
			PrintWriter pw = res.getWriter();
		    try{
			   Class.forName("com.mysql.jdbc.Driver");
			   pw.println("mysql 驱动程序已加载 ...");
		    }
		    catch (Exception ex){
			   pw.println("无法加载mysql驱动程序" + ex.getMessage());
			   return;
		    }
		    try{
		    	con = DriverManager.getConnection(url, "root", "qinliang");
		    	stat = con.createStatement();
		    	String sqlString = "select * from tb";
		    	rs = stat.executeQuery(sqlString);
		    	while (rs.next()){
		    		pw.println(rs.getString("username"));
		    	}
		    	rs.close();
		    	stat.close();
		    	con.close();
		    }
		    catch (SQLException ex){
		    	while (ex != null){
		    		ex.printStackTrace(pw);
		    		ex = ex.getNextException();
		    	}
		    }
		}
		catch (Exception ex){
			ex.printStackTrace();
		}
	}



}
